# GTokenVerifier

**GTokenVerifier** is a lightweight utility for decoding and verifying Google ID tokens generated by
Firebase Authentication.

## Overview

This library simplifies the process of verifying the authenticity of Google ID tokens by leveraging
Google's OAuth2 certificates. It allows you to validate tokens and optionally extract specific
attributes from the decoded payload.

## How It Works

### Public Key Setup

The package uses public keys derived from the OAuth2 certificates published by Google at:  
[Google OAuth2 Certificates](https://www.googleapis.com/oauth2/v3/certs)

### Configuration

`GTokenVerifier` requires just the audience as a String on object construction.

## Usage

The library provides several overloaded methods for decoding and verifying ID tokens:

```java
Map<String, String> decode(String idToken);

Map<String, String> decode(String idToken, String... attributes);

Map<String, String> decode(String idToken, boolean throwExceptionOnInvalidAttribute,
    String... attributes);
```

### Method Details

#### `decode(String idToken)`

This method validates the token's legitimacy. It is ideal when you only need to verify the token
without extracting specific attributes.

#### `decode(String idToken, String... attributes)`

In addition to validating the token, this method allows you to retrieve specific attributes from the
decoded payload (e.g., `sub`, `iss`, `email`, etc.). The attributes are returned in a `Map`.

#### `decode(String idToken, boolean throwExceptionOnInvalidAttribute, String... attributes)`

Similar to the previous method, this validates the token and retrieves specified attributes.
However, will throw an exception if a provided attribute is not in the claims.
